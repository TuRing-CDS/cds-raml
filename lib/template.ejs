module.exports = function(ns,Api){
    <% apis.forEach((item)=>{ %>
        <% if(item.methods){ %>
            <% item.methods.forEach((method)=>{%>
                /*<%=method.description%>*/
                ns('<%=method.method.toUpperCase()%> <%= item.relativeUri %>',new Api()
                    <% if(method.queryParameters){%>
                        <% let requireds = []%>
                        <%- console.log(method)%>
                        <% Object.keys(method.queryParameters).forEach((param)=>{%>
                            .param('<%=param%>',/*<%=method.queryParameters[param].description%>*/Api.Types.TrimString)
                            <% if(method.queryParameters[param].required){
                                requireds.push(param)
                            }%>
                        <%})%>
                        <% if(requireds.length){%>
                            .required('<%- requireds.join("','")%>')
                        <%}%>
                            .exec((params,callback)=>{
                                callback(null,<%- method.responses && method.responses['200'] && JSON.stringify(method.responses['200'].body["application/json"].example.result) || "''"%>)
                            })
                    <%}%>)
            <%})%>
        <% } %>
    <% }) %>
}